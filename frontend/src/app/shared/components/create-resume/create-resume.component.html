<div class="modal">
    <div class="modal__content">
        <div class="modal__header">
            <span (click)="close()"><svg width="14" height="14" viewBox="0 0 14 14" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12.6068 13.3182C12.802 13.5135 13.1186 13.5135 13.3139 13.3182C13.5091 13.1229 13.5091 12.8064 13.3139 12.6111L7.58443 6.88164L13.3181 1.14799C13.5133 0.952725 13.5133 0.636142 13.3181 0.44088C13.1228 0.245618 12.8062 0.245618 12.611 0.44088L6.87732 6.17453L1.14367 0.44088C0.948406 0.245618 0.631823 0.245618 0.436561 0.44088C0.241299 0.636142 0.241299 0.952725 0.436561 1.14799L6.17021 6.88164L0.44076 12.6111C0.245498 12.8064 0.245498 13.1229 0.44076 13.3182C0.636022 13.5135 0.952605 13.5135 1.14787 13.3182L6.87732 7.58875L12.6068 13.3182Z"
                        fill="#FDC04E" />
                </svg></span>
        </div>
    </div>
    <div class="modal__body" *ngIf="!isSubmitted else submitted">
        <h1 class="modal__title">{{ (resume? 'Изменение' :'Создание') + ' резюме'}}</h1>
        <form class="modal__form" *ngIf="resumeForm" [formGroup]="resumeForm" (ngSubmit)="submit()">
            <div class="modal__form-group">
                <label>Введите название желаемой должности</label>
                <div class="input-block">
                    <input class="long-input" type="desiredPosition" formControlName="desiredPosition"
                        placeholder="Должность" (input)="positionChange()">
                    <app-error [@contentExpansion]="errors.desiredPosition ? 'expanded' : 'collapsed'"
                        [error]="errors.desiredPosition!"></app-error>
                </div>

            </div>
            <div class="modal__form-group">
                <label>Введите желаемую заработную плату</label>
                <div class="input-block">
                    <input class="input-60" type="desiredSalary" mask="09999999" suffix="₽" formControlName="desiredSalary"
                    placeholder="Заработная плата" (input)="salaryChange()">
                <app-error [@contentExpansion]="errors.desiredSalary ? 'expanded' : 'collapsed'"
                    [error]="errors.desiredSalary!"></app-error>
                </div>
            </div>
            <div class="modal__form-group">
                <label>Выберите желаемый режим работы</label>
                <div class="select-group">
                    <div class="select-block">
                        <app-select-small formControlName="desiredSchedule" [options]="schedule"
                            [title]="'Тип занятости'" (ngModelChange)="scheduleChange()"></app-select-small>
                        <app-error [@contentExpansion]="errors.desiredSchedule ? 'expanded' : 'collapsed'"
                            [error]="errors.desiredSchedule!"></app-error>
                    </div>
                    <div class="select-block">
                        <app-select-small formControlName="desiredEmployment" [options]="employment"
                            [title]="'График работы'" (ngModelChange)="employmentChange()"></app-select-small>
                        <app-error [@contentExpansion]="errors.desiredEmployment ? 'expanded' : 'collapsed'"
                            [error]="errors.desiredEmployment!"></app-error>
                    </div>
                </div>
            </div>
            <div class="modal__form-group">
                <label>Загрузите резюме в формате pdf</label>
                    
                    <label class="upload" for="file"><svg width="18" height="23" viewBox="0 0 18 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.25225 0V14.5454L5.28392 11.4594L4.5632 12.1526L8.39189 16.1331L8.7363 16.4912L9.09655 16.1491L13.2882 12.1685L12.5996 11.4434L9.25225 14.6222V0H8.25225ZM1.93968 6.63534C1.68244 6.63534 1.18106 6.6394 0.751658 6.89418C0.523515 7.02955 0.320685 7.23171 0.184782 7.51854C0.0514371 7.79996 -0.00486549 8.13584 0.0116893 8.52491C0.0670554 9.82611 0.0349101 17.2396 0.0114424 20.8308C-0.0261718 21.1561 0.0185975 21.6293 0.30295 22.0348C0.621502 22.4891 1.1733 22.7644 1.96051 22.7316C3.24612 22.678 11.7382 22.7093 15.8499 22.732C16.1611 22.7439 16.619 22.7146 17.0213 22.5342C17.2302 22.4406 17.4434 22.2975 17.6048 22.0796C17.7705 21.856 17.8598 21.5825 17.8598 21.2708C17.8598 21.1125 17.858 20.6988 17.8554 20.1056V20.1053V20.105C17.8443 17.556 17.8187 11.6931 17.8596 8.51977C17.8711 8.29581 17.8885 7.85131 17.7166 7.45214C17.6239 7.23676 17.4717 7.02253 17.23 6.86592C16.9892 6.70994 16.6972 6.63534 16.3646 6.63534H16.3585H16.3525H16.3464H16.3403H16.3341H16.328H16.3218H16.3156H16.3094H16.3031H16.2968H16.2906H16.2843H16.2779H16.2716H16.2652H16.2588H16.2524H16.246H16.2395H16.233H16.2265H16.22H16.2135H16.2069H16.2003H16.1938H16.1871H16.1805H16.1738H16.1672H16.1605H16.1538H16.147H16.1403H16.1335H16.1267H16.1199H16.1131H16.1062H16.0994H16.0925H16.0856H16.0787H16.0717H16.0648H16.0578H16.0508H16.0438H16.0368H16.0297H16.0227H16.0156H16.0085H16.0014H15.9942H15.9871H15.9799H15.9727H15.9655H15.9583H15.9511H15.9438H15.9366H15.9293H15.922H15.9147H15.9074H15.9H15.8927H15.8853H15.8779H15.8705H15.863H15.8556H15.8482H15.8407H15.8332H15.8257H15.8182H15.8107H15.8031H15.7956H15.788H15.7804H15.7728H15.7652H15.7575H15.7499H15.7422H15.7346H15.7269H15.7192H15.7115H15.7037H15.696H15.6882H15.6805H15.6727H15.6649H15.6571H15.6493H15.6414H15.6336H15.6257H15.6179H15.61H15.6021H15.5942H15.5863H15.5784H15.5704H15.5625H15.5545H15.5465H15.5385H15.5305H15.5225H15.5145H15.5065H15.4984H15.4904H15.4823H15.4742H15.4661H15.458H15.4499H15.4418H15.4337H15.4255H15.4174H15.4092H15.4011H15.3929H15.3847H15.3765H15.3683H15.3601H15.3518H15.3436H15.3354H15.3271H15.3188H15.3106H15.3023H15.294H15.2857H15.2774H15.2691H15.2608H15.2524H15.2441H15.2357H15.2274H15.219H15.2107H15.2023H15.1939H15.1855H15.1771H15.1687H15.1603H15.1518H15.1434H15.135H15.1265H15.1181H15.1096H15.1012H15.0927H15.0842H15.0757H15.0673H15.0588H15.0503H15.0418H15.0332H15.0247H15.0162H15.0077H14.9991H14.9906H14.9821H14.9735H14.965H14.9564H14.9478H14.9393H14.9307H14.9221H14.9135H14.905H14.8964H14.8878H14.8792H14.8706H14.862H14.8533H14.8447H14.8361H14.8275H14.8189H14.8102H14.8016H14.793H14.7843H14.7757H14.7671H14.7584H14.7498H14.7411H14.7325H14.7238H14.7151H14.7065H14.6978H14.6892H14.6805H14.6718H14.6632H14.6545H14.6458H14.6371H14.6285H14.6198H14.6111H14.6024H14.5938H14.5851H14.5764H14.5677H14.559H14.5503H14.5417H14.533H14.5243H14.5156H14.5069H14.4982H14.4896H14.4809H14.4722H14.4635H14.4548H14.4461H14.4375H14.4288H14.4201H14.4114H14.4027H14.3941H14.3854H14.3767H14.3681H14.3594H14.3507H14.3421H14.3334H14.3247H14.3161H14.3074H14.2987H14.2901H14.2814H14.2728H14.2642H14.2555H14.2469H14.2382H14.2296H14.221H14.2123H14.2037H14.1951H14.1865H14.1779H14.1692H14.1606H14.152H14.1434H14.1348H14.1263H14.1177H14.1091H14.1005H14.0919H14.0834H14.0748H14.0662H14.0577H14.0491H14.0406H14.0321H14.0235H14.015H14.0065H13.998H13.9894H13.9809H13.9724H13.9639H13.9555H13.947H13.9385H13.93H13.9216H13.9131H13.9047H13.8962H13.8878H13.8793H13.8709H13.8625H13.8541H13.8457H13.8373H13.8289H13.8205H13.8122H13.8038H13.7954H13.7871H13.7788H13.7704H13.7621H13.7538H13.7455H13.7372H13.7289H13.7206H13.7123H13.7041H13.6958H13.6876H13.6793H13.6711H13.6629H13.6547H13.6465H13.6383H13.6301H13.6219H13.6138H13.6056H13.5975H13.5894H13.5812H13.5731H13.565H13.5569H13.5489H13.5408H13.5327H13.5247H13.5167H13.5086H13.5006H13.4926H13.4846H13.4767H13.4687H13.4607H13.4528H13.4449H13.437H13.429H13.4212H13.4133H13.4054H13.3975H13.3897H13.3819H13.374H13.3662H13.3584H13.3507H13.3429H13.3351H13.3274H13.3197H13.312H13.3043H13.2966H13.2889H13.2812H13.2736H13.266H13.2583H13.2507H13.2432H13.2356H13.228H13.2205H13.2129H13.2054H13.1979H13.1904H13.183H13.1755H13.1681H13.1606H13.1532H13.1458H13.1385H13.1311H13.1238H13.1164H13.1091H13.1018H13.0945H13.0873H13.08H13.0728H13.0656H13.0584H13.0512H13.044H13.0369H13.0297H13.0226H13.0155H13.0084H13.0014H12.9943H12.9873H12.9803H12.9733H12.9663H12.9594H12.9524H12.9455H12.9386H12.9317H12.9248H12.918H12.9112H12.9044H12.8976H12.8908H12.884H12.8773H12.8706H12.8639H12.8572H12.8506H12.8439H12.8373H12.8307H12.8241H12.8176H12.811H12.8045H12.798H12.7915H12.7851H12.7787H12.7722H12.7658H12.7595H12.7531H12.7468H12.7405H12.7342H12.7279H12.7217H12.7154H12.7092H12.7031H12.6969H12.6908H12.6846H12.6786H12.6725H12.6664H12.6604H12.6544H12.6484H12.6425H12.6365H12.6306H12.6247H12.6188H12.613H12.6072H12.6014H12.5956H12.5898H12.5841H12.5784H12.5727H12.5671H12.5614H12.5558H12.5502H12.5447H12.5391H12.5336H12.5281H12.5227H12.5172H12.5118H12.5064H12.5011H12.4957H12.4904H12.4851H12.4799H12.4746H12.4694H12.4642H12.4591H12.4539C12.1778 6.63534 11.9539 6.85919 11.9539 7.13534C11.9539 7.41148 12.1778 7.63534 12.4539 7.63534H12.4591H12.4642H12.4694H12.4746H12.4799H12.4851H12.4904H12.4957H12.5011H12.5064H12.5118H12.5172H12.5227H12.5281H12.5336H12.5391H12.5447H12.5502H12.5558H12.5614H12.5671H12.5727H12.5784H12.5841H12.5898H12.5956H12.6014H12.6072H12.613H12.6188H12.6247H12.6306H12.6365H12.6425H12.6484H12.6544H12.6604H12.6664H12.6725H12.6786H12.6846H12.6908H12.6969H12.7031H12.7092H12.7154H12.7217H12.7279H12.7342H12.7405H12.7468H12.7531H12.7595H12.7658H12.7722H12.7787H12.7851H12.7915H12.798H12.8045H12.811H12.8176H12.8241H12.8307H12.8373H12.8439H12.8506H12.8572H12.8639H12.8706H12.8773H12.884H12.8908H12.8976H12.9044H12.9112H12.918H12.9248H12.9317H12.9386H12.9455H12.9524H12.9594H12.9663H12.9733H12.9803H12.9873H12.9943H13.0014H13.0084H13.0155H13.0226H13.0297H13.0369H13.044H13.0512H13.0584H13.0656H13.0728H13.08H13.0873H13.0945H13.1018H13.1091H13.1164H13.1238H13.1311H13.1385H13.1458H13.1532H13.1606H13.1681H13.1755H13.183H13.1904H13.1979H13.2054H13.2129H13.2205H13.228H13.2356H13.2432H13.2507H13.2583H13.266H13.2736H13.2812H13.2889H13.2966H13.3043H13.312H13.3197H13.3274H13.3351H13.3429H13.3507H13.3584H13.3662H13.374H13.3819H13.3897H13.3975H13.4054H13.4133H13.4212H13.429H13.437H13.4449H13.4528H13.4607H13.4687H13.4767H13.4846H13.4926H13.5006H13.5086H13.5167H13.5247H13.5327H13.5408H13.5489H13.5569H13.565H13.5731H13.5812H13.5894H13.5975H13.6056H13.6138H13.6219H13.6301H13.6383H13.6465H13.6547H13.6629H13.6711H13.6793H13.6876H13.6958H13.7041H13.7123H13.7206H13.7289H13.7372H13.7455H13.7538H13.7621H13.7704H13.7788H13.7871H13.7954H13.8038H13.8122H13.8205H13.8289H13.8373H13.8457H13.8541H13.8625H13.8709H13.8793H13.8878H13.8962H13.9047H13.9131H13.9216H13.93H13.9385H13.947H13.9555H13.9639H13.9724H13.9809H13.9894H13.998H14.0065H14.015H14.0235H14.0321H14.0406H14.0491H14.0577H14.0662H14.0748H14.0834H14.0919H14.1005H14.1091H14.1177H14.1263H14.1348H14.1434H14.152H14.1606H14.1692H14.1779H14.1865H14.1951H14.2037H14.2123H14.221H14.2296H14.2382H14.2469H14.2555H14.2642H14.2728H14.2814H14.2901H14.2987H14.3074H14.3161H14.3247H14.3334H14.3421H14.3507H14.3594H14.3681H14.3767H14.3854H14.3941H14.4027H14.4114H14.4201H14.4288H14.4375H14.4461H14.4548H14.4635H14.4722H14.4809H14.4896H14.4982H14.5069H14.5156H14.5243H14.533H14.5417H14.5503H14.559H14.5677H14.5764H14.5851H14.5938H14.6024H14.6111H14.6198H14.6285H14.6371H14.6458H14.6545H14.6632H14.6718H14.6805H14.6892H14.6978H14.7065H14.7151H14.7238H14.7325H14.7411H14.7498H14.7584H14.7671H14.7757H14.7843H14.793H14.8016H14.8102H14.8189H14.8275H14.8361H14.8447H14.8533H14.862H14.8706H14.8792H14.8878H14.8964H14.905H14.9135H14.9221H14.9307H14.9393H14.9478H14.9564H14.965H14.9735H14.9821H14.9906H14.9991H15.0077H15.0162H15.0247H15.0332H15.0418H15.0503H15.0588H15.0673H15.0757H15.0842H15.0927H15.1012H15.1096H15.1181H15.1265H15.135H15.1434H15.1518H15.1603H15.1687H15.1771H15.1855H15.1939H15.2023H15.2107H15.219H15.2274H15.2357H15.2441H15.2524H15.2608H15.2691H15.2774H15.2857H15.294H15.3023H15.3106H15.3188H15.3271H15.3354H15.3436H15.3518H15.3601H15.3683H15.3765H15.3847H15.3929H15.4011H15.4092H15.4174H15.4255H15.4337H15.4418H15.4499H15.458H15.4661H15.4742H15.4823H15.4904H15.4984H15.5065H15.5145H15.5225H15.5305H15.5385H15.5465H15.5545H15.5625H15.5704H15.5784H15.5863H15.5942H15.6021H15.61H15.6179H15.6257H15.6336H15.6414H15.6493H15.6571H15.6649H15.6727H15.6805H15.6882H15.696H15.7037H15.7115H15.7192H15.7269H15.7346H15.7422H15.7499H15.7575H15.7652H15.7728H15.7804H15.788H15.7956H15.8031H15.8107H15.8182H15.8257H15.8332H15.8407H15.8482H15.8556H15.863H15.8705H15.8779H15.8853H15.8927H15.9H15.9074H15.9147H15.922H15.9293H15.9366H15.9438H15.9511H15.9583H15.9655H15.9727H15.9799H15.9871H15.9942H16.0014H16.0085H16.0156H16.0227H16.0297H16.0368H16.0438H16.0508H16.0578H16.0648H16.0717H16.0787H16.0856H16.0925H16.0994H16.1062H16.1131H16.1199H16.1267H16.1335H16.1403H16.147H16.1538H16.1605H16.1672H16.1738H16.1805H16.1871H16.1938H16.2003H16.2069H16.2135H16.22H16.2265H16.233H16.2395H16.246H16.2524H16.2588H16.2652H16.2716H16.2779H16.2843H16.2906H16.2968H16.3031H16.3094H16.3156H16.3218H16.328H16.3341H16.3403H16.3464H16.3525H16.3585H16.3646C16.5472 7.63534 16.64 7.67523 16.6862 7.70513C16.7313 7.7344 16.7679 7.77744 16.7981 7.8476C16.8696 8.01363 16.8725 8.24608 16.8605 8.4778L16.86 8.48748L16.8599 8.49717C16.8186 11.6808 16.8444 17.5843 16.8555 20.125C16.858 20.71 16.8598 21.1167 16.8598 21.2708C16.8598 21.3832 16.8306 21.4447 16.8013 21.4844C16.7677 21.5298 16.7094 21.5782 16.6123 21.6217C16.4069 21.7138 16.1206 21.7423 15.8816 21.7325L15.8728 21.7321L15.8639 21.7321C11.7764 21.7095 3.23631 21.6776 1.91885 21.7325C1.40408 21.7539 1.20849 21.5845 1.12173 21.4607C1.01134 21.3033 0.985301 21.0854 1.0065 20.9324L1.01101 20.8998L1.01123 20.867C1.03458 17.3075 1.06767 9.81924 1.01079 8.4824C0.99924 8.21105 1.04158 8.04569 1.08847 7.94673C1.1328 7.85316 1.1918 7.7958 1.26193 7.75419C1.42907 7.65502 1.67002 7.63534 1.93968 7.63534H5.20636C5.4825 7.63534 5.70636 7.41148 5.70636 7.13534C5.70636 6.85919 5.4825 6.63534 5.20636 6.63534H1.93968Z" fill="#FDC04E"/>
                        </svg><span class="not-uploaded" *ngIf="!file else fileUploaded">{{loadPlaceholder}}</span></label>
                        <ng-template #fileUploaded><span class="uploaded">{{file?.name}}</span></ng-template>
                
                <input type="file" id="file" accept=".pdf" (change)="fileChange($event)">
                <app-error class="error" [@contentExpansion]="uploadError ? 'expanded' : 'collapsed'"
                    [error]="{ message : uploadError?? ''}"></app-error>
            </div>
            <div class="modal__form-submit">
                <div class="button-block">
                    <input type='submit' [disabled]="uploadError || resumeForm.invalid || !checkFormChanges() || !checkFileLoaded()"
                        [value]="(resume ? 'Изменить' : 'Добавить') + ' резюме'">
                </div>
                <label (click)="back()" class="transparent-button">Отмена</label>
            </div>
        </form>

    </div>
    <ng-template #submitted>
        <div class="modal__body success">
            <svg width="50" height="51" viewBox="0 0 50 51" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M48.2163 16.9381C54.1068 38.3808 38.5748 50.006 25.0282 50.006C11.4817 50.006 0.5 39.0523 0.5 25.5401C0.5 12.028 13.5277 -3.75662 33.6302 2.50789"
                    stroke="#4C4C4C" />
                <path d="M13.6836 21.6444L24.1245 33.4566L49.276 8.02454" stroke="#4C4C4C" stroke-linecap="round" />
            </svg>
            <span class="success-text">{{this.user.getUserName()}}, Вы отправили своё резюме. На вашу почту <span
                class="uppercase bold">{{this.user.currentUserValue?.email}}</span> будет приходить обратная связь.</span>
        </div>
    </ng-template>
</div>