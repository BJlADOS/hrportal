<div class="dropdown-collection" [class.opened]="dropdownOpen" [class.disabled]="disabled" [class.edited]="edited">
    <div appClickOutside class="dropdown-button" aria-haspopup="listbox" aria-labelledby="dropdown-label" (click)="toggleDropdown()" (clickOutside)="dropdownOpen = false" [class.required]="required">
        <span class="dropdown-default" id="dropdown-label" *ngIf="!currentValue">{{title}} </span><span class="dropdown-value" *ngIf="currentValue">{{currentValue.name}}</span>
        <svg *ngIf="!disabled" class="arrow-icon" [@rotate180]="dropdownOpen? 'rotated' : 'still'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
        width="24" height="24">
        <path fill="none" d="M0 0h24v24H0z" />
        <path d="M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z" />
    </svg>
    </div>
    <ul class="dropdown-list" role="listbox" aria-expanded="false" [ngClass]="{'dropdown-open' : dropdownOpen}" [@contentExpansion]="dropdownOpen ? 'expanded' : 'collapsed'">
        <li *ngFor="let option of options"
            tabindex="0"
            (click)="select(option)"
            role="option"
            ><svg *ngIf="currentValue?.id !== option.id else selectedIcon" width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" y="0.5" width="14" height="14" rx="7" stroke="#FDC04E"/>
                </svg><span>{{option.name}}</span></li>
    </ul>
</div>
<ng-template #selectedIcon><svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="7.5" cy="8" r="4.5" fill="#FDC04E"/>
    <rect x="0.5" y="1" width="14" height="14" rx="7" stroke="#FDC04E"/>
    </svg></ng-template>
