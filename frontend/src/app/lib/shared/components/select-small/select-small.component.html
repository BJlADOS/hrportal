<div class="dropdown-collection" [class.opened]="dropdownOpen" [class.disabled]="disabled">
    <div appHoverListener appClickOutside class="dropdown-button" aria-haspopup="listbox" aria-labelledby="dropdown-label" (click)="toggleDropdown()" (clickOutside)="dropdownOpen = false" [class.required]="required">
        <span class="dropdown-default" id="dropdown-label" *ngIf="!currentValue">{{title}} </span><span class="dropdown-value" *ngIf="currentValue">{{currentValue.name}}</span>
        <accordion-arrow-icon [@contentExpansionHorizontal]="disabled? 'collapsed' : 'expanded'" [@rotate180]="dropdownOpen? 'rotated' : 'still'" [forceHover]="dropdownOpen"></accordion-arrow-icon>
    </div>
    <ul class="dropdown-list" role="listbox" aria-expanded="false" [ngClass]="{'dropdown-open' : dropdownOpen}" [@contentExpansion]="dropdownOpen ? 'expanded' : 'collapsed'">
        <li *ngFor="let option of options"
            [ngClass]="{'selected' : currentValue?.id === option.id}"
            tabindex="0"
            (click)="select(option)"
            role="option"
            >{{option.name}}</li>
    </ul>
</div>
