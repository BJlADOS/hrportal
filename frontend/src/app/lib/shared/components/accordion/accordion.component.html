<section class="accordion">
    <div *ngFor="let item of items; index as i" class="accordion__item" [class.active]="expanded.has(i)">
        <header class="accordion__header">
            <div class="accordion__title" (click)="toggleState(i)">
                <svg class="accordion__item__arrow" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"
                    height="24">
                    <path fill="none" d="M0 0h24v24H0z" />
                    <path d="M12 13.172l4.95-4.95 1.414 1.414L12 16 5.636 9.636 7.05 8.222z" />
                </svg>
                <p class="title">{{item.title}}</p>
            </div>
        </header>
        <div class="content">
            <div class="accordion__content" [class.expanded]="expanded.has(i)"
                [@contentExpansion]="expanded.has(i) ? 'expanded':'collapsed'">
                <ng-container *ngTemplateOutlet="item.content.templateRef"></ng-container>
            </div>
        </div>
    </div>
</section>